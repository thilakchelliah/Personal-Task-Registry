var sharedModule=angular.module("shared",[]),techRegistryApp=angular.module("trApp.Main",["ui.router","ngStorage","shared"]),tRDashboardApp=angular.module("trApp.Dashboard",["ui.router","ngStorage","ui.router.state.events","shared"]);techRegistryApp.config(["$stateProvider","$urlRouterProvider","$httpProvider",function(a,b,c){b.otherwise("/main"),a.state("main",{url:"/main",templateUrl:"App/ContentMaster/Content.html"})}]),tRDashboardApp.config(["$stateProvider","$urlRouterProvider","$httpProvider",function(a,b,c){c.interceptors.push("AuthInterceptor"),b.otherwise("/login"),a.state("home",{templateUrl:"App/ContentMaster/DashboardContent.html"}).state("home.admin",{url:"/admin",template:"",controller:["$rootScope",function(a){a.dashBoardTitle="Admin"}]}).state("login",{url:"/login",templateUrl:"App/User/Login.html"}).state("signup",{url:"/admin/signup",templateUrl:"App/User/Registration.html"}).state("home.userController",{url:"/UserWidget",templateUrl:"App/dashboardWidgets/userGrid.html",controller:["$rootScope",function(a){a.dashBoardTitle="User Controller"}]}).state("home.BlogManager",{url:"/BlogManager",templateUrl:"App/dashboardWidgets/blogManager.html",controller:["$rootScope",function(a){a.dashBoardTitle="Blog Manager"}]})}]).run(["$rootScope","$state","$localStorage","sharedService","$location",function(a,b,c,d,e){a.$on("$stateChangeStart",function(a,f,g,h,i,j){d.toggleLoader(!0),"login"==f.name&&c.currentUser&&c.currentUser.token&&(a.preventDefault(),b.go("home")),"login"==f.name||c.currentUser||e.path("/login")}),a.$on("$stateChangeSuccess",function(a,b,c,e,f){d.toggleLoader(!1)}),a.$on("$stateChangeError",function(a,c,e,f,g,h){return d.toggleLoader(!1),a.preventDefault(),b.get("error").error={code:123,description:"Exception stack trace"},b.go("error")})}]);
//# sourceMappingURL=AngApp.min.js.map


//# sourceMappingURL=TechView.controller.min.js.map

techRegistryApp.controller("loginController",["$scope","$localStorage","$location",function(a,b,c){a.logout=function(){b.currentUser.token=null,c.path("/login")}}]);
//# sourceMappingURL=Login.controller.min.js.map

techRegistryApp.controller("blogListController",["$scope","sharedService","$sce",function(a,b,c){a.blogList=[];var d=function(a,b,d,e){return{title:a,previewText:c.trustAsHtml(b),user:d[0].username,date:e}},e=function(){b.FetchAllBlog().then(function(b){$(b.data).each(function(){a.blogList.push(d(this.title,this.previewText,this.user,this.createdDate))})},function(a){})};e()}]);
//# sourceMappingURL=BlogList.controller.min.js.map


//# sourceMappingURL=TechView.service.min.js.map

sharedModule.factory("AuthInterceptor",["$rootScope","$q","$localStorage","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.currentUser&&(a.headers.Authorization="Token "+c.currentUser.token),a},responseError:function(a){return c.currentUser?401===a.status||403===a.status?(c.currentUser.token=null,d.path("/login"),!1):b.reject(a):(d.path("/login"),!1)}}}]);
//# sourceMappingURL=Auth.service.min.js.map

tRDashboardApp.service("loginService",["$http",function(a){var b={},c=function(b){return a.post("api/User/Create",b)},d=function(b){return a.get("api/User/checkUser?userName="+b)},e=function(b){return a.get("api/User/CheckEmail?email="+b)},f=function(b,c){return a.get("api/User/CheckSignUpCred?username="+b+"&password="+c)};return b.CreateUser=c,b.checkValidUserName=d,b.checkValidEmail=e,b.ValidateAndLogin=f,b}]);
//# sourceMappingURL=login.service.min.js.map

sharedModule.service("sharedService",["$http",function(a){var b={},c=function(b){return a.get(b)},d=function(a){a===!0?$(".loading").show():$(".loading").hide()},e=function(){return Math.floor((new Date).getTime()/1e3)},f=function(){return a.get("/api/Blog/FetchAll")};return b.FetchAllBlog=f,b.callGetUrlTofetch=c,b.toggleLoader=d,b.generateUniqueId=e,b}]);
//# sourceMappingURL=shared.service.min.js.map

tRDashboardApp.service("blogManagerService",["$http",function(a){var b={},c=function(b){return a.post("apiS/Blog/Create",b)},d=function(b){return a.post("/apiS/Blog/Delete",b)};return b.DeleteBlogRow=d,b.CreateBlogPost=c,b}]);
//# sourceMappingURL=BlogManager.service.min.js.map

tRDashboardApp.directive("signUpDirective",["loginService",function(a){return{restrict:"E",templateUrl:"Angular1/Directives/SignUp/signup.html",controller:["$scope","$state",function(b,c){b.CreateUser=function(){var d=bootbox.dialog({title:"Please Wait!",message:'<p><i class="fa fa-spin fa-spinner"></i> processing...</p>',closeButton:!1,buttons:{ok:{label:"Ok",className:"btn-info",callback:function(){c.go("login")}}}}),e={email:b.email,username:b.UserName,password:b.password};a.CreateUser(e).then(function(a){d.find(".bootbox-body").html("User Created Successfully")},function(a){})},b.chkValidUsNme=function(){var c=b.UserName;a.checkValidUserName(c).then(function(a){0!==a.data.length&&(b.isUserNameError=!0,b.userNameError=a.data)},function(a){})},b.chkValidEmail=function(){var c=b.email;a.checkValidEmail(c).then(function(a){0!==a.data.length&&(b.isEmailError=!0,b.emailError=a.data)},function(a){})},b.redirectToHome=function(){c.go("login")}}]}}]);
//# sourceMappingURL=SignUp.directive.min.js.map

tRDashboardApp.directive("loginDirective",["loginService","$localStorage","$state",function(a,b,c){return{restrict:"E",templateUrl:"Angular1/Directives/Login/Login.html",controller:["$scope","$http","sharedService","$rootScope",function(d,e,f,g){d.invalidUser=!1,d.ValidateAndLogin=function(){f.toggleLoader(!0);var g=d.username,h=d.password;a.ValidateAndLogin(g,h).then(function(a){a.data.token?(b.currentUser={username:g,token:a.data.token,expiryTime:a.data.expirytime,userId:a.data.userDataId},e.defaults.headers.common.Authorization="Bearer "+a.data.token,f.toggleLoader(!1),c.go("home.admin")):(f.toggleLoader(!1),d.invalidUser=!0)},function(a){d.invalidUser=!0})}}]}}]);
//# sourceMappingURL=Login.directive.min.js.map

tRDashboardApp.directive("sameAs",function(){return{require:"ngModel",link:function(a,b,c,d){var e=c.sameAs;a.$watch(c.sameAs,function(){d.$validate()}),d.$validators.match=function(b,c){return c===a.$eval(e)}}}});
//# sourceMappingURL=common.directive.min.js.map

var globalColData={userGrid:[{title:"User Name",data:"username"},{title:"Email",data:"email"}],blogGrid:[{title:"Post Title",data:"title"},{title:"Preview",data:"previewText"},{title:"Related Tags",data:"tagData"},{title:"Preview",data:"_id",render:function(a,b,c,d){return'<button ng-click="buttonEvent(&quot;blogRowPreview&quot;,data)">Preview</Button>'}},{title:"Delete",data:"_id",render:function(a,b,c,d){return'<button ng-click="buttonEvent(&quot;blogRowDelete&quot;,&quot;'+a+'&quot;)">Delete</Button>'}}]};tRDashboardApp.directive("gridDirective",["$localStorage","sharedService","$state",function(a,b,c){return{restrict:"E",templateUrl:"Angular1/Directives/shared/Grid/Grid.html",scope:{gdId:"@",gridData:"=",gdType:"=",coloumnData:"@",ver:"="},compile:function(a,c){b.toggleLoader(!0),a.find("table").attr("id",c.gdId)},controller:["$scope","sharedService","$http","$compile","blogManagerService",function(a,b,c,d,e){var f;"URL"==a.gdType&&b.callGetUrlTofetch(a.gridData).then(function(c){f=$("#"+a.gdId).DataTable({data:c.data,columns:globalColData[a.coloumnData],createdRow:function(b,c,e){d(angular.element(b).contents())(a)}}),b.toggleLoader(!1)},function(a){}),a.buttonEvent=function(c,d){switch(c){case"blogGridPreview":break;case"blogRowDelete":e.DeleteBlogRow({id:d}).then(function(c){b.callGetUrlTofetch(a.gridData).then(function(a){f.clear(),f.rows.add(a.data),f.draw()})},function(a){})}}}]}}]);
//# sourceMappingURL=grid.directive.min.js.map

sharedModule.directive("tagInput",function(){return{restrict:"E",scope:{inputTags:"=taglist",autocomplete:"=autocomplete"},link:function(a,b,c){return a.defaultWidth=200,a.tagText="",a.placeholder=c.placeholder,a.autocomplete&&(a.autocompleteFocus=function(a,c){return $(b).find("input").val(c.item.value),!1},a.autocompleteSelect=function(b,c){return a.$apply("tagText='"+c.item.value+"'"),a.$apply("addTag()"),!1},$(b).find("input").autocomplete({minLength:0,source:function(b,c){var d;return c(function(){var c,e,f,g;for(f=a.autocomplete,g=[],c=0,e=f.length;c<e;c++)d=f[c],d.toLowerCase().indexOf(b.term.toLowerCase())!==-1&&g.push(d);return g}())},focus:function(b,c){return a.autocompleteFocus(b,c)},select:function(b,c){return a.autocompleteSelect(b,c)}})),a.tagArray=function(){return void 0===a.inputTags?[]:a.inputTags.split(",").filter(function(a){return""!==a})},a.addTag=function(){var b;if(0!==a.tagText.length)return b=a.tagArray(),$.inArray(a.tagText,b)==-1&&b.push(a.tagText),a.inputTags=b.join(","),a.tagText="",a.emitDataToAllParent(),a.tagText},a.deleteTag=function(b){var c;return c=a.tagArray(),c.length>0&&0===a.tagText.length&&void 0===b?c.pop():void 0!==b&&c.splice(b,1),a.inputTags=c.join(","),a.emitDataToAllParent(),a.inputTags},a.deleteAllTags=function(){return a.inputTags="",a.emitDataToAllParent(),a.inputTags},a.emitDataToAllParent=function(){a.$emit("sendTagData",a.tagArray())},a.$on("deleteAllTags",function(b,c){a.deleteAllTags()}),a.$watch("tagText",function(b,c){var d;if(b!==c||void 0!==b)return d=$("<span>"+b+"</span>").appendTo("body"),a.inputWidth=d.width()+5,a.inputWidth<a.defaultWidth&&(a.inputWidth=a.defaultWidth),d.remove()}),b.bind("keydown",function(b){var c;if(c=b.which,9!==c&&13!==c||b.preventDefault(),8===c)return a.$apply("deleteTag()")}),b.bind("keyup",function(b){var c;if(c=b.which,9===c||13===c||188===c)return b.preventDefault(),a.$apply("addTag()")})},template:"<div class='tag-input-ctn'><div class='input-tag' data-ng-repeat=\"tag in tagArray()\">{{tag}}<div class='delete-tag' data-ng-click='deleteTag($index)'>&times;</div></div><input type='text' data-ng-style='{width: inputWidth}' data-ng-model='tagText' placeholder='{{placeholder}}'/></div>"}});
//# sourceMappingURL=tagger.directive.min.js.map

sharedModule.directive("tagInput",function(){return{restrict:"E",templateUrl:"Angular1/Directives/shared/Disqus/disqus.html"}});
//# sourceMappingURL=disqus.directive.min.js.map

tRDashboardApp.directive("blogPostManagerDirective",["blogManagerService","$localStorage","$state",function(a,b,c){return{restrict:"E",scope:{functionType:"@",postId:"@"},templateUrl:"Angular1/Directives/BlogManager/BlogPostManager.html",controller:["$scope","$http","sharedService","$rootScope",function(c,d,e,f){c.tagArray=[],c.init=function(){c.buttonText="add"===c.functionType?"Add New ":"Update ",$(document).ready(function(){$("#summernote").summernote({dialogsInBody:!0,height:300})})},c.addOrUpdatePost=function(){var d=b.currentUser,f=$("#summernote").summernote("code"),g={title:c.title,htmlContent:f,userId:d.userId,tagData:c.tagArray.join(","),previewText:c.previewText},h=bootbox.dialog({title:"Please Wait!",message:'<p><i class="fa fa-spin fa-spinner"></i> processing...</p>',closeButton:!1,buttons:{ok:{label:"Ok",className:"btn-info",callback:function(){$("#summernote").summernote("reset")}}}});a.CreateBlogPost(g).then(function(a){h.find(".bootbox-body").html("Blog Successfully Created/Updated"),c.title="",c.previewText="",c.$broadcast("deleteAllTags");var b=$("#blogGrid").DataTable();e.callGetUrlTofetch("/apiS/Blog/FetchAll").then(function(a){b.clear(),b.rows.add(a.data),b.draw()})},function(a){h.find(".bootbox-body").html("Error Happened")})},c.$on("sendTagData",function(a,b){c.tagArray=b}),c.init()}]}}]);
//# sourceMappingURL=BlogPostManager.directive.min.js.map